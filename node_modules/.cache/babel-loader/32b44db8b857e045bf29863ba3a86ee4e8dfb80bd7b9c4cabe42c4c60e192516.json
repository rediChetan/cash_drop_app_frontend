{"ast":null,"code":"var _jsxFileName = \"/Users/dskreddy/cash-drop-app/cash-drop-app/frontend/src/Pages/Header.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Header() {\n  _s();\n  const accessToken = localStorage.getItem('access_token');\n  const isAdmin = localStorage.getItem('is_admin') === 'true';\n  const navigate = useNavigate();\n  const handleLogout = async () => {\n    const refreshToken = localStorage.getItem('refresh_token');\n    const accessToken = localStorage.getItem('access_token');\n    if (!refreshToken || !accessToken) {\n      alert(\"No valid tokens found. Please log in again.\");\n      localStorage.clear();\n      navigate('/login');\n      return;\n    }\n    try {\n      const response = await fetch('http://localhost:8000/api/auth/logout/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${accessToken}`\n        },\n        body: JSON.stringify({\n          refresh: refreshToken\n        })\n      });\n      if (response.ok) {\n        localStorage.clear();\n        navigate('/login');\n        alert(\"Logout Successful\");\n      } else {\n        const errorData = await response.json();\n        console.error(\"Logout failed:\", response.status, errorData);\n        alert(`Logout Failed: ${errorData.detail || response.statusText}`);\n        localStorage.clear();\n      }\n    } catch (error) {\n      console.error(\"Error during logout:\", error);\n      alert(\"Error during logout: \" + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-100 rounded-md p-2 text-center\",\n    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"text-2xl font-bold mb-2 text-pink-500\",\n      children: accessToken ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cash-drop\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Cash Drop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/dashboard\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Admin Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cd-dashboard\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Cash Drop Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cd-validation\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Cash Drop Validation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cash-drop\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Cash Drop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cd-dashboard\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Cash Drop Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(Header, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["useState","Link","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","_s","accessToken","localStorage","getItem","isAdmin","navigate","handleLogout","refreshToken","alert","clear","response","fetch","method","headers","body","JSON","stringify","refresh","ok","errorData","json","console","error","status","detail","statusText","message","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/dskreddy/cash-drop-app/cash-drop-app/frontend/src/Pages/Header.js"],"sourcesContent":["import { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nfunction Header() {\n    const accessToken = localStorage.getItem('access_token');\n    const isAdmin = localStorage.getItem('is_admin') === 'true';\n    const navigate = useNavigate();\n\n    const handleLogout = async () => {\n    const refreshToken = localStorage.getItem('refresh_token');\n    const accessToken = localStorage.getItem('access_token');\n    if (!refreshToken || !accessToken) {\n        alert(\"No valid tokens found. Please log in again.\");\n        localStorage.clear();\n        navigate('/login');\n        return;\n    }\n    try {\n        const response = await fetch('http://localhost:8000/api/auth/logout/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${accessToken}`,\n            },\n            body: JSON.stringify({ refresh: refreshToken }),\n        });\n        if (response.ok) {\n            localStorage.clear();\n            navigate('/login');\n            alert(\"Logout Successful\");\n        } else {\n            const errorData = await response.json();\n            console.error(\"Logout failed:\", response.status, errorData);\n            alert(`Logout Failed: ${errorData.detail || response.statusText}`);\n            localStorage.clear();\n        }\n    } catch (error) {\n        console.error(\"Error during logout:\", error);\n        alert(\"Error during logout: \" + error.message);\n    }\n};\n\n    return (\n        <div className=\"bg-gray-100 rounded-md p-2 text-center\">\n            <nav className=\"text-2xl font-bold mb-2 text-pink-500\">\n                {accessToken ? (\n                    <>\n                        <Link to=\"/cash-drop\" className=\"text-pink-500 m-3 p-3\">Cash Drop</Link>\n                        {isAdmin && (\n                            <Link to=\"/dashboard\" className=\"text-pink-500 m-3 p-3\">Admin Dashboard</Link>\n                        )}\n                        <Link to=\"/cd-dashboard\" className=\"text-pink-500 m-3 p-3\">Cash Drop Dashboard</Link>\n                        {isAdmin && (\n                            <Link to=\"/register\" className=\"text-pink-500 m-3 p-3\">Register</Link>\n                        )}\n                        {isAdmin && (\n                                <Link to=\"/cd-validation\" className=\"text-pink-500 m-3 p-3\">Cash Drop Validation</Link>\n                            )}\n                        <button onClick={handleLogout} className=\"text-pink-500 m-3 p-3\">Logout</button>\n                    </>\n                ) : (\n                    <>\n                        <Link to=\"/login\" className=\"text-pink-500 m-3 p-3\">Login</Link>\n                        <Link to=\"/cash-drop\" className=\"text-pink-500 m-3 p-3\">Cash Drop</Link>\n                        <Link to=\"/cd-dashboard\" className=\"text-pink-500 m-3 p-3\">Cash Drop Dashboard</Link>\n                    </>\n                )}\n            </nav>\n        </div>\n    );\n}\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}