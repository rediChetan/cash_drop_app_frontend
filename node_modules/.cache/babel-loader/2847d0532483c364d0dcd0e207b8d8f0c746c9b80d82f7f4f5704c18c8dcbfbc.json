{"ast":null,"code":"var _jsxFileName = \"/Users/dskreddy/cash-drop-app/cash-drop-app/frontend/src/Pages/Header.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { API_ENDPOINTS } from \"../config/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Header() {\n  _s();\n  const accessToken = sessionStorage.getItem('access_token');\n  const isAdmin = sessionStorage.getItem('is_admin') === 'true';\n  const navigate = useNavigate();\n  const handleLogout = async () => {\n    const refreshToken = sessionStorage.getItem('refresh_token');\n    const accessToken = sessionStorage.getItem('access_token');\n    if (!refreshToken || !accessToken) {\n      alert(\"No valid tokens found. Please log in again.\");\n      sessionStorage.clear();\n      navigate('/login');\n      return;\n    }\n    try {\n      const response = await fetch(API_ENDPOINTS.LOGOUT, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${accessToken}`\n        },\n        body: JSON.stringify({\n          refresh: refreshToken\n        })\n      });\n      if (response.ok) {\n        sessionStorage.clear();\n        navigate('/login');\n        alert(\"Logout Successful\");\n      } else {\n        sessionStorage.clear();\n        const errorData = await response.json();\n        console.error(\"Logout failed:\", response.status, errorData);\n        alert(`Logout Failed: ${errorData.detail || response.statusText}`);\n      }\n    } catch (error) {\n      console.error(\"Error during logout:\", error);\n      alert(\"Error during logout: \" + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-100 rounded-md p-2 text-center\",\n    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"text-2xl font-bold mb-2 text-pink-500\",\n      children: accessToken ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cash-drop\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Cash Drop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cd-dashboard\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Cash Drop Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/dashboard\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Admin Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 29\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cd-validation\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Cash Drop Validation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 33\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/bank-drop\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Bank Drop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cash-drop\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Cash Drop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cd-dashboard\",\n          className: \"text-pink-500 m-3 p-3\",\n          children: \"Cash Drop Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(Header, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["useState","Link","useNavigate","API_ENDPOINTS","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","_s","accessToken","sessionStorage","getItem","isAdmin","navigate","handleLogout","refreshToken","alert","clear","response","fetch","LOGOUT","method","headers","body","JSON","stringify","refresh","ok","errorData","json","console","error","status","detail","statusText","message","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/dskreddy/cash-drop-app/cash-drop-app/frontend/src/Pages/Header.js"],"sourcesContent":["import { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { API_ENDPOINTS } from \"../config/api\";\n\nfunction Header() {\n    const accessToken = sessionStorage.getItem('access_token');\n    const isAdmin = sessionStorage.getItem('is_admin') === 'true';\n    const navigate = useNavigate();\n\n    const handleLogout = async () => {\n    const refreshToken = sessionStorage.getItem('refresh_token');\n    const accessToken = sessionStorage.getItem('access_token');\n    if (!refreshToken || !accessToken) {\n        alert(\"No valid tokens found. Please log in again.\");\n        sessionStorage.clear();\n        navigate('/login');\n        return;\n    }\n    try {\n        const response = await fetch(API_ENDPOINTS.LOGOUT, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${accessToken}`,\n            },\n            body: JSON.stringify({ refresh: refreshToken }),\n        });\n        if (response.ok) {\n            sessionStorage.clear();\n            navigate('/login');\n            alert(\"Logout Successful\");\n        } else {\n            sessionStorage.clear();\n            const errorData = await response.json();\n            console.error(\"Logout failed:\", response.status, errorData);\n            alert(`Logout Failed: ${errorData.detail || response.statusText}`);\n        }\n    } catch (error) {\n        console.error(\"Error during logout:\", error);\n        alert(\"Error during logout: \" + error.message);\n    }\n};\n\n    return (\n        <div className=\"bg-gray-100 rounded-md p-2 text-center\">\n            <nav className=\"text-2xl font-bold mb-2 text-pink-500\">\n                {accessToken ? (\n                    <>\n                        <Link to=\"/cash-drop\" className=\"text-pink-500 m-3 p-3\">Cash Drop</Link>\n                        <Link to=\"/cd-dashboard\" className=\"text-pink-500 m-3 p-3\">Cash Drop Dashboard</Link>\n                        {isAdmin && (\n                            <Link to=\"/dashboard\" className=\"text-pink-500 m-3 p-3\">Admin Dashboard</Link>\n                        )}\n                        {isAdmin && (\n                            <Link to=\"/register\" className=\"text-pink-500 m-3 p-3\">Register</Link>\n                        )}\n                        {isAdmin && (\n                                <Link to=\"/cd-validation\" className=\"text-pink-500 m-3 p-3\">Cash Drop Validation</Link>\n                        )}\n                        {isAdmin && (\n                                <Link to=\"/bank-drop\" className=\"text-pink-500 m-3 p-3\">Bank Drop</Link>\n                        )}\n                        <button onClick={handleLogout} className=\"text-pink-500 m-3 p-3\">Logout</button>\n                    </>\n                ) : (\n                    <>\n                        <Link to=\"/login\" className=\"text-pink-500 m-3 p-3\">Login</Link>\n                        <Link to=\"/cash-drop\" className=\"text-pink-500 m-3 p-3\">Cash Drop</Link>\n                        <Link to=\"/cd-dashboard\" className=\"text-pink-500 m-3 p-3\">Cash Drop Dashboard</Link>\n                    </>\n                )}\n            </nav>\n        </div>\n    );\n}\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}